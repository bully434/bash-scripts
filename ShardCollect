Легенда
Решил Антон стать мобильным разработчиком, установил Xamarin, начал программировать. Но не тут-то было, начало заканчиваться место на жестком диске. Виновник был найден почти сразу. Xamarin не только в процессе разработки оставлял после себя много лишнего, да еще и уже установленные обновления никуда автоматически не пропадали. Благо, Антон не так давно читал про утилиту lsof, которая поможет найти, какие же файлы уже не используются в системе. А раз файлы не используются, значит, и временные директории с ними после недобросовестной программы можно будет спокойно удалить. Поможем Антону?

Постановка задачи (10 баллов)
Используя программу lsof, в заданной директории найти все подкаталоги первого уровня, в которых не открыт ни один файл. Найденные директории нужно вывести по одной в строке. Если ничего не нашли, то ничего не выводим и устанавливаем код возврата программы, отличный от нуля. Если обрабатываемая директория не указана, используем текущую. Сервис http://shellcheck.net не должен находить ошибок в программе.

 

Примеры запуска:

./shardCollect.sh -h

./shardCollect.sh --help

./shardCollect.sh -d ~/Desktop

./shardCollect.sh --directory Desktop

./shardCollect.sh

Усложнение (+5 баллов)
lsof в программе запускается один раз (на некоторых системах lsof работает медленно вне зависимости от вывода).

Подсказки
для обработки аргументов программы можно использовать команды case, shift

обратите внимание, что одновременно с директорией Desktop рядом может существовать директория Desktop1
